<div class="card-header">
    <h2>Lista Prodotti</h2>
</div>
<br>
<ng-container *ngIf="items.length > 0; else noItems">
    <div class="table-responsive table-responsive-sm">
        <table class="table ">
            <thead >
                <tr>
                    <th class="px-3">Nome</th>
                    <th class="px-3">Quantit√†</th>
                    <th class="px-3">Prezzo</th>
                    <th class="px-3">Acquistato</th>
                    <th class="px-3">Modifica</th>
                    <th class="px-3">Elimina</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of items" [ngClass]="{'purchased': item.purchased}" >
                    <td>{{ item.name }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.price | currency:'EUR' }}</td>
                    <td>
                        <input class="form-check-input" type="checkbox" [(ngModel)]="item.purchased" (change)="onCheckboxChange(item)">
                    </td>
                    <td>
                        <button class="edit-button btn btn-primary" (click)="onEdit(item.id)" [disabled]="item.purchased">
                            Modifica
                        </button>
                    </td>
                    <td><button class="delete-button btn btn-danger" (click)="onDelete(item.id)">Elimina</button></td>
                </tr>
            </tbody>
        </table>
    </div>
    <button class="add-button btn btn-primary" (click)="addItem()">Aggiungi Prodotto</button>
    <br>
</ng-container>

<ng-template #noItems>
    <div style="text-align: center;">
        <h5>Nessun prodotto nella lista.</h5>
        <br>
        <button class="add-button" (click)="addItem()">Aggiungi Prodotto</button>
        <br>
    </div>
</ng-template>